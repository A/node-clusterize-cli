#!/usr/bin/env node

/**
 * Module dependencies.
 */

var program        = require('commander');
var pkg            = require('../package.json');
var path           = require('path');
var Daemon         = require('../lib/node-daemonize');
var tmpdir         = require('os').tmpdir();

// End of Dependencies


var config         = {};


program
  .version(pkg.version)
  .option('list', 'list of running daemons')
  .option('start', 'Start new daemon')
  .option('stop [pid]', 'Stop new daemon')
  .option('--config [path]', 'Setup config path')
  .parse(process.argv);


if (program.config) config = require(path.resolve(program.config));
// setup config by inline args

if (program.start) { /* new Daemon(config) */}
if (program.stop) { /* stop daemon by pid */ }
if (program.list) { /* log.(daemons.list) */ }